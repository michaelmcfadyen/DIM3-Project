from django.db import models
from django.contrib.auth.models import User
from django.forms import ModelForm

# Create your models here.
class User(models.Model):
	username = models.CharField(max_length=100)
	password = models.CharField(max_length=20)
	emailaddress = models.CharField(max_length=100)
	
	class Meta:
		abstract=True;

class Artist(User):
	name = models.CharField(max_length=50)
	phone_number = models.CharField(max_length=20)
	description = models.CharField(max_length=2000)
	website = models.URLField()
	music = models.URLField()

	def _unicode_(self):
		return self.name


class Venue(models.Model):
	advert = models.ForeignKey(Advert)
	name = models.CharField(max_length=100)	
	address = models.CharField(max_length=500)
	website = models.URLField()

	def _unicode_(self):
		return self.name

class Advert(models.Model):
	artist = models.ManyToManyField(Artist)
	title = models.CharField(max_length = 50)
	start_time = models.TimeField()
	duration = models.TimeField()
	date = models.DateField()
	description = models.CharField(max_length=5000)
	band = models.CharField(max_length=50)

	def __unicode__(self):
             return self.title

class Genre(models.Model):
	artist = models.ManyToManyField(Artist)
	advert = models.ManyToManyField(Advert)
	genre = models.CharField(max_length=20)

	def _unicode_(self):
		return self.genre

class Promoter(User):
	advert = models.ForeignKey(Advert)
	name = models.CharField(max_length=50)
	phone_num = models.CharField(max_length=20)

	def __unicode__(self):
             return self.name

#class UserProfile(models.Model):
#        # This field is required.
#        user = models.OneToOneField(User)
#        # These fields are optional
#        website = models.URLField(blank=True)
#        picture = models.ImageField(upload_to='imgs', blank=True)
#
#        def __unicode__(self):
#                return self.user.username
#
#class UserForm(forms.ModelForm):
#        class Meta:
#                model = User
#                fields = ["username", "email", "password"]

#class UserProfileForm(forms.ModelForm):
 #       class Meta:
  #              model = UserProfile
